<h1>Posts in "{{ page.category }}"</h1>

{% assign posts_in_category = site.categories[page.category] %}
{% assign all_tags = "" | split: "" %}
{% for post in posts_in_category %}
  {% for tag in post.tags %}
    {% unless all_tags contains tag %}
      {% assign all_tags = all_tags | push: tag %}
    {% endunless %}
  {% endfor %}
{% endfor %}
{% assign all_tags = all_tags | sort %}

{% if all_tags.size > 0 %}
<p><strong>Tags in this category:</strong></p>
<ul>
  {% for tag in all_tags %}
    <li><a href="{{ '/tags/' | append: tag | append: '/' | relative_url }}">{{ tag }}</a></li>
  {% endfor %}
</ul>
{% endif %}

<hr>

<ul>
  {% for post in posts_in_category %}
    <li>
      <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      <small>{{ post.date | date_to_string }}</small>
    </li>
  {% endfor %}
</ul>
